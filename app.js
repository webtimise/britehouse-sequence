import{a as t,m as e,r as i,g as s,S as a,s as n,c as r,b as o,_ as l,l as h,d as c,e as d,u as m}from"./vendors.js";const u=(t,e)=>class extends t{constructor(...t){if(super(...t),this.prototypeType=e,!this.id){const t=g.get()+1;g.set(t),this.id=`${this.prototypeType.toLowerCase()}-${t}`}}connectedCallback(){"function"==typeof t.prototype.connectedCallback&&t.prototype.connectedCallback.call(this),p.set([...p.get(),this])}disconnectedCallback(){"function"==typeof t.prototype.disconnectedCallback&&t.prototype.disconnectedCallback.call(this),p.set(p.get().filter(t=>t.id!==this.id))}},g=t(0),p=t([]),y=(t,e=[])=>{let i=[];return"string"==typeof e?i=[e]:Array.isArray(e)?i=e:e instanceof HTMLElement&&e.id&&(i=[`#${e.id}`]),p.get().filter(e=>t===e.prototypeType&&!i.some(t=>e.matches(t)))},f=e({width:window.innerWidth,height:window.innerHeight}),b=e({width:window.innerWidth,height:window.innerHeight});window.addEventListener("resize",()=>{f.setKey("width",window.innerWidth),f.setKey("height",window.innerHeight)}),window.addEventListener("resize",i(()=>{b.setKey("width",window.innerWidth),b.setKey("height",window.innerHeight)},200));const S=document.documentElement,v=e({sm:getComputedStyle(S).getPropertyValue("--breakpoint-sm").trim()||"768px"}),w=e({reducedMotion:"(prefers-reduced-motion: reduce)",darkMode:"(prefers-color-scheme: dark)",touchScreen:"(hover: none)",touchOrSmall:`(max-width: ${v.get().sm}), (hover: none)`,small:`(max-width: ${v.get().sm})`,medium:`(min-width: ${v.get().sm}) and (max-width: 1200px)`,large:"(min-width: 1200px)"}),I=t=>{try{return matchMedia(t)}catch(e){return{matches:!1,addEventListener:()=>{}}}},T={reducedMotion:I(w.get().reducedMotion),darkMode:I(w.get().darkMode),touchScreen:I(w.get().touchScreen),touchOrSmall:I(w.get().touchOrSmall),small:I(w.get().small),medium:I(w.get().medium),large:I(w.get().large)},C=e({isReducedMotion:T.reducedMotion.matches,isDarkMode:T.darkMode.matches,isTouchScreen:T.touchScreen.matches,isTouchOrSmall:T.touchOrSmall.matches,isSmall:T.small.matches,isMedium:T.medium.matches,isLarge:T.large.matches,isDesktop:!T.touchScreen.matches,isMobile:T.small.matches&&T.touchScreen.matches,isTablet:T.medium.matches&&T.touchScreen.matches});Object.entries(T).forEach(([t,e])=>{e.addEventListener("change",()=>{const i=`is${t.charAt(0).toUpperCase()+t.slice(1)}`;C.setKey(i,e.matches),C.setKey("isDesktop",!T.touchScreen.matches),C.setKey("isMobile",T.small.matches&&T.touchScreen.matches),C.setKey("isTablet",T.medium.matches&&T.touchScreen.matches)})});const E=window.matchMedia("(any-pointer:coarse)").matches,A=Object.freeze({NAME:"production",IS_PROD:!0,IS_DEV:!1,IS_MOBILE:E,IS_DESKTOP:!E,SUPPORTS_VH:"CSS"in window&&"supports"in window.CSS&&window.CSS.supports("height: 100svh")&&window.CSS.supports("height: 100dvh")&&window.CSS.supports("height: 100lvh")}),L=Object.freeze({LOADING:"is-loading",FIRST_LOADED:"is-first-loaded",LOADED:"is-loaded",READY:"is-ready",TRANSITION:"is-transitioning",FONTS_LOADED:"fonts-loaded",LAZY_CONTAINER:"c-lazy",LAZY_LOADED:"-lazy-loaded",HAS_SCROLLED:"has-scrolled",HAS_MODAL_OPEN:"has-modal-open",SEQUENCE_LOADED:"is-sequence-loaded"}),P=Object.freeze({VISIT_START:"visit.start",GO_TO:"load.goTo",MODAL_OPEN:"modal.open",MODAL_CLOSE:"modal.close",WEBGL_READY:"webgl-ready",WEBGL_ERROR:"webgl-error"}),$=Object.freeze({EAGER:[{family:"Foundersgrotesk",style:"normal",weight:400},{family:"Foundersgrotesk",style:"normal",weight:600}],OPTIONS:{timeout:5e3,display:"swap"}});A.IS_MOBILE;const O="fonts"in document;function M(t,e){for(const[i,s]of Object.entries(e))switch(i){case"family":if(D(t[i])!==s)return!1;break;case"weight":if(t[i]!=s)return!1;break;default:if(t[i]!==s)return!1}return!0}function k(t,e){const i=D(t.family);return D(i)===e||e.endsWith(D(i))&&(e.match(t.weight)||e.match(t.style)),!0}function x(t){Array.isArray(t)||(t=[t]);const e=new Set;return t.forEach(t=>{if(t)switch(typeof t){case"string":return void e.add(...function(t){const e=[];for(const i of document.fonts)k(i,t)&&e.push(i);return e}(t));case"object":return void e.add(...function(t){const e=[];for(const i of document.fonts)M(i,t)&&e.push(i);return e}(t))}throw new TypeError("Expected font query to be font shorthand or font reference")}),[...e]}async function R(t){return await("unloaded"===t.status?t.load():t.loaded).then(t=>t,e=>t)}function D(t){return t.replace(/['"]+/g,"")}async function N(t){const e=x(t);return await Promise.all(e.map(t=>t.loaded))}s.registerPlugin(a);class _ extends HTMLElement{static PREV_CLASS="is-prev";static ACTIVE_CLASS="is-active";constructor(){super(),this.$text=this.querySelector("[data-split-text]")||this,this.splitInstance=null,this.isSplitting=!1,this.isRichText=!1,this.richTextContainer=null,this.richTextElements=[],this.richTextSplitInstances=[],this.onResize=this.onResize.bind(this),this.onSmallScreenChange=this.onSmallScreenChange.bind(this)}async connectedCallback(){try{this.detectRichText(),await Promise.all([document.fonts.ready,N($.EAGER)]),this.bindEvents(),this.onFontsLoaded()}catch(t){}}disconnectedCallback(){this.unbindEvents(),this.resetSplit()}detectRichText(){const t=this.$text.querySelector(".rich-text");t&&(this.isRichText=!0,this.richTextContainer=t,this.richTextElements=Array.from(t.querySelectorAll("p, h1, h2, h3, h4, h5, h6, li, blockquote")).filter(t=>t.textContent.trim().length>0))}bindEvents(){this.unbindScreenListener=b.subscribe(this.onResize),this.unbindDeviceListener=n(C,["isSmall"],this.onSmallScreenChange)}unbindEvents(){this.unbindScreenListener?.(),this.unbindDeviceListener?.()}onSmallScreenChange=t=>{};onFontsLoaded=()=>{C.get().isSmall||this.reSplit()};onResize=()=>{this.reSplit()};handleLineBreaks(){const t=this.$text.innerHTML;this.$text.innerHTML=t.replace(/<br\s*\/?>/gi,"\n")}prepareSemanticTag(t){if(!["h1","h2","h3","h4","h5","h6","p"].includes(t.tagName.toLowerCase()))return t;if(t.querySelector("[data-split-wrapper]"))return t.querySelector("[data-split-wrapper]");const e=Array.from(t.childNodes),i=document.createElement("span");return i.dataset.splitWrapper="true",i.style.display="inherit",e.forEach(t=>{i.appendChild(t.cloneNode(!0))}),t.innerHTML="",t.appendChild(i),i}split(){this.isRichText?this.splitRichText():this.splitNormal()}splitNormal(){try{const t=this.dataset.splitType||this.$text.dataset.splitType||"words",e=this.dataset.splitMask||this.$text.dataset.splitMask||t;t.includes("lines");const i=this.prepareSemanticTag(this.$text);this.splitInstance=a.create(i,{type:t,tag:"span",linesClass:"split-line",wordsClass:"split-word",charsClass:"split-char",mask:e,autoSplit:!1});const s=this.getSplitItems(),n=this.getIndexPropertyName(t);s.forEach((t,e)=>{t.style.setProperty(n,e)}),this.isSplitting=!1}catch(t){this.isSplitting=!1}}splitRichText(){try{const t=this.dataset.splitType||this.$text.dataset.splitType||"lines",e=this.dataset.splitMask||this.$text.dataset.splitMask||t;this.richTextSplitInstances.forEach(t=>{t&&t.revert()}),this.richTextSplitInstances=[],this.richTextElements.forEach(i=>{const s=this.prepareSemanticTag(i),n=a.create(s,{type:t,tag:"span",linesClass:"split-line",wordsClass:"split-word",charsClass:"split-char",mask:e,autoSplit:!1});this.richTextSplitInstances.push(n),i.__splitInstance=n});const i=this.getSplitItems(),s=this.getIndexPropertyName(t);i.forEach((t,e)=>{t.style.setProperty(s,e)}),this.isSplitting=!1}catch(t){this.isSplitting=!1}}getIndexPropertyName(t){return t.includes(",")?`--${t.split(",")[0].slice(0,-1)}-index`:`--${t.slice(0,-1)}-index`}reSplit(){this.isSplitting||(this.isSplitting=!0,this.resetSplit(),requestAnimationFrame(()=>{this.split()}))}resetSplit(){if(this.isRichText)this.richTextSplitInstances.forEach(t=>{t&&t.revert()}),this.richTextSplitInstances=[],this.richTextElements.forEach(t=>{delete t.__splitInstance;const e=t.querySelector("[data-split-wrapper]");e&&(t.innerHTML=e.innerHTML)});else if(this.splitInstance&&(this.splitInstance.revert(),this.splitInstance=null),this.$text){const t=this.$text.querySelector("[data-split-wrapper]");t&&(this.$text.innerHTML=t.innerHTML)}}getSplitItems(){if(this.isRichText){const t=[],e=this.dataset.splitType||this.$text.dataset.splitType||"words",i=e.includes(",")?e.split(",")[0]:e;return this.richTextSplitInstances.forEach(e=>{e&&e[i]&&t.push(...e[i])}),t}if(!this.splitInstance)return[];const t=this.dataset.splitType||this.$text.dataset.splitType||"words";if(t.includes(",")){const e=t.split(",")[0];return this.splitInstance[e]||[]}return this.splitInstance[t]||[]}getItems(){return this.getSplitItems()}getWords(){return this.getSplitItems()}animateIn(t=.8,e=.05){const i=this.getItems();if(!i.length)return;const a=(this.dataset.splitType||this.$text.dataset.splitType||"words").includes("lines")?{yPercent:100,opacity:0}:{opacity:0,y:20};return s.fromTo(i,a,{yPercent:0,y:0,opacity:1,duration:t,stagger:e,ease:"power2.out"})}animateOut(t=.6,e=.03){const i=this.getItems();if(!i.length)return;const a=(this.dataset.splitType||this.$text.dataset.splitType||"words").includes("lines")?{yPercent:-100,opacity:0}:{y:-10,opacity:0};return s.to(i,{...a,duration:t,stagger:e,ease:"power2.in"})}}class F{constructor(t={}){this.dbName=t.dbName||"SequenceImageCache",this.storeName="images",this.metaStoreName="metadata",this.db=null,this.version=t.version||"1.0.0",this.maxAge=t.maxAge||6048e5,this.chunkSize=t.chunkSize||10,this.corsMode=t.corsMode||"cors",this.crossOrigin=t.crossOrigin||"anonymous"}async init(){return new Promise((t,e)=>{const i=indexedDB.open(this.dbName,2);i.onupgradeneeded=t=>{const e=t.target.result;if(!e.objectStoreNames.contains(this.storeName)){const t=e.createObjectStore(this.storeName,{keyPath:"url"});t.createIndex("sequenceId","sequenceId",{unique:!1}),t.createIndex("frameNumber","frameNumber",{unique:!1})}e.objectStoreNames.contains(this.metaStoreName)||e.createObjectStore(this.metaStoreName,{keyPath:"sequenceId"})},i.onsuccess=e=>{this.db=e.target.result,t(this.db)},i.onerror=t=>{e(t.target.error)}})}async getSequenceMetadata(t){return this.db||await this.init(),new Promise((e,i)=>{const s=this.db.transaction([this.metaStoreName],"readonly").objectStore(this.metaStoreName).get(t);s.onsuccess=()=>e(s.result),s.onerror=t=>i(t.target.error)})}async saveSequenceMetadata(t,e){return this.db||await this.init(),new Promise((i,s)=>{const a=this.db.transaction([this.metaStoreName],"readwrite").objectStore(this.metaStoreName),n={sequenceId:t,version:this.version,timestamp:Date.now(),...e},r=a.put(n);r.onsuccess=()=>i(),r.onerror=t=>s(t.target.error)})}async getCachedImage(t){return this.db||await this.init(),new Promise((e,i)=>{const s=this.db.transaction([this.storeName],"readonly").objectStore(this.storeName).get(t);s.onsuccess=()=>{const t=s.result;t&&this.isValidCache(t)?e(t.blob):e(null)},s.onerror=()=>e(null)})}async saveImage(t,e,i,s){return this.db||await this.init(),new Promise((a,n)=>{const r=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName),o={url:t,blob:e,sequenceId:i,frameNumber:s,version:this.version,timestamp:Date.now()},l=r.put(o);l.onsuccess=()=>a(),l.onerror=t=>{a()}})}async loadImageWithCache(t,e,i){try{const s=await this.getCachedImage(t);if(s){const a=URL.createObjectURL(s),n=new Image;return n.crossOrigin=this.crossOrigin,new Promise(s=>{n.onload=()=>{URL.revokeObjectURL(a),s({img:n,fromCache:!0})},n.onerror=async()=>{URL.revokeObjectURL(a);const n=await this.fetchAndCacheImage(t,e,i);s(n)},n.src=a})}return await this.fetchAndCacheImage(t,e,i)}catch(s){const e=new Image;return e.crossOrigin=this.crossOrigin,e.src=t,new Promise(t=>{e.onload=()=>t({img:e,fromCache:!1}),e.onerror=()=>t({img:null,fromCache:!1})})}}async fetchAndCacheImage(t,e,i){return new Promise(async s=>{try{const a=await fetch(t,{mode:this.corsMode,credentials:"same-origin",cache:"default"});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const n=await a.blob();this.saveImage(t,n,e,i).catch(console.warn);const r=URL.createObjectURL(n),o=new Image;o.crossOrigin=this.crossOrigin,o.onload=()=>{URL.revokeObjectURL(r),s({img:o,fromCache:!1})},o.onerror=()=>{URL.revokeObjectURL(r),s({img:null,fromCache:!1})},o.src=r}catch(a){"TypeError"===a.name&&a.message.includes("CORS");const e=new Image;e.crossOrigin=this.crossOrigin,e.src=t,e.onload=()=>s({img:e,fromCache:!1}),e.onerror=()=>{s({img:null,fromCache:!1})}}})}async loadSequenceImages(t,e,i){const s=new Array(t.length);let a=0;const n=await this.getSequenceMetadata(e);n&&n.version!==this.version&&await this.clearSequenceCache(e),await this.saveSequenceMetadata(e,{frameCount:t.length,lastAccessed:Date.now()});for(let r=0;r<t.length;r+=this.chunkSize){const n=t.slice(r,Math.min(r+this.chunkSize,t.length)).map((n,o)=>{const l=r+o;return this.loadImageWithCache(n,e,l+1).then(e=>(a++,s[l]=e.img,i&&i(a,t.length,e.fromCache,e.img,l),e.img)).catch(e=>(a++,i&&i(a,t.length,!1,null,l),null))});await Promise.all(n)}return s}isValidCache(t){return t.version===this.version&&!(Date.now()-t.timestamp>this.maxAge)}async clearSequenceCache(t){return this.db||await this.init(),new Promise((e,i)=>{const s=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName),a=s.index("sequenceId").openCursor(IDBKeyRange.only(t));a.onsuccess=t=>{const i=t.target.result;i?(s.delete(i.primaryKey),i.continue()):e()},a.onerror=t=>i(t.target.error)})}async clearAllCache(){return this.db||await this.init(),new Promise((t,e)=>{const i=this.db.transaction([this.storeName,this.metaStoreName],"readwrite");i.objectStore(this.storeName).clear(),i.objectStore(this.metaStoreName).clear(),i.oncomplete=()=>t(),i.onerror=t=>e(t.target.error)})}async getCacheSize(){this.db||await this.init();const t=await navigator.storage.estimate();return{usage:t.usage,quota:t.quota,percentUsed:(t.usage/t.quota*100).toFixed(2)}}async pruneOldCaches(t=[]){return this.db||await this.init(),new Promise((e,i)=>{const s=this.db.transaction([this.storeName],"readwrite").objectStore(this.storeName).openCursor();let a=0;s.onsuccess=i=>{const s=i.target.result;if(s){const e=s.value;(!this.isValidCache(e)||t.length&&!t.includes(e.sequenceId))&&(s.delete(),a++),s.continue()}else e(a)},s.onerror=t=>i(t.target.error)})}}const z=e({scroll:window.scrollY,limit:0,velocity:0,direction:0,progress:0}),q=document.documentElement;class V{static init(){this.locomotiveScroll=new r({lenisOptions:{orientation:this.orientation,gestureOrientation:this.orientation,syncTouch:!0,autoRaf:!1},autoStart:!1,initCustomTicker:t=>{s.ticker.add(t)},destroyCustomTicker:t=>{s.ticker.remove(t)},scrollCallback({scroll:t,limit:e,velocity:i,direction:s,progress:a}){z.set({scroll:t,limit:e,velocity:i,direction:s,progress:a}),t>20?q.classList.contains("has-scrolled")||(q.classList.add("has-scrolled"),y("Dropdown").forEach(t=>{t.close()})):q.classList.contains("has-scrolled")&&q.classList.remove("has-scrolled")}}),this.locomotiveScroll.lenisInstance.options.content.addEventListener("wheel",t=>{t.composedPath().some(t=>"cc-main"===t.id)&&t.stopPropagation()})}static destroy(){this.locomotiveScroll?.destroy()}static start(){this.locomotiveScroll?.start()}static stop(){this.locomotiveScroll?.stop()}static addScrollElements(t){this.locomotiveScroll?.addScrollElements(t)}static removeScrollElements(t){this.locomotiveScroll?.removeScrollElements(t)}static scrollTo(t,e){this.locomotiveScroll?.scrollTo(t,e)}}s.registerPlugin(o);class Y extends HTMLElement{constructor(){super(),this.frameCount=parseInt(this.getAttribute("data-frame-count"))||219,this.frameCountMobile=parseInt(this.getAttribute("data-frame-count-mobile"))||223,this.frameStart=parseInt(this.getAttribute("data-frame-start"))||1,this.imageFolder=this.getAttribute("data-image-folder")||"",this.imageMobileFolder=this.getAttribute("data-image-mobile-folder")||this.imageFolder,this.imageFormat=this.getAttribute("data-image-format")||"webp",this.scrollDistance=this.getAttribute("data-scroll-distance")||"500%",this.enableCache="false"!==this.getAttribute("data-enable-cache"),this.cacheVersion=this.getAttribute("data-cache-version")||"1.0.0",this.cacheMaxAge=parseInt(this.getAttribute("data-cache-max-age"))||6048e5,this.scaleTarget=this.getAttribute("data-scale-target")||null,this.scaleStart=parseFloat(this.getAttribute("data-scale-start"))||0,this.scaleEnd=parseFloat(this.getAttribute("data-scale-end"))||.7,this.scalePeak=this.getAttribute("data-scale-peak")?parseFloat(this.getAttribute("data-scale-peak")):.2,this.scaleFromX=0,this.scaleFromY=0,this.scaleToX=0,this.scaleToY=0,this.snapPoints=this.getAttribute("data-snap-points")?JSON.parse(this.getAttribute("data-snap-points")):[0,.45,.8],this.images=[],this.imagesLoaded=0,this.cachedImagesLoaded=0,this.currentFrame=0,this.scrollTrigger=null,this.scaleTween=null,this.isCleaningUp=!1,this.resizeObserver=null,this.showLoadingAnimation=!1,this.isInitialized=!1,this.$canvas=null,this.$loading=null,this.$loadingBar=null,this.$loadingText=null,this.$loadingMask=null,this.$scaleElement=null,this.$cacheStatus=null,this.ctx=null,this.isMobile=!1,this.mm=s.matchMedia(),this.onResize=this.onResize.bind(this),this.onSmallScreenChange=this.onSmallScreenChange.bind(this),this.handleCanvasResize=this.handleCanvasResize.bind(this),this.checkOrientation=this.checkOrientation.bind(this),this.enableCache&&(this.imageCache=new F({dbName:"SequenceCanvasCache",version:this.cacheVersion,maxAge:this.cacheMaxAge,chunkSize:Math.min(10,Math.ceil(this.frameCount/20))}))}connectedCallback(){this.updateScaleValues(),this.isMobile&&this.checkOrientation(),this.bindEvents(),this.initElements(),this.setupResizeObserver(),this.enableCache?this.preloadImagesWithCache():this.preloadImages()}disconnectedCallback(){this.unbindEvents(),this.isCleaningUp||this.cleanup(),this.resizeObserver&&this.resizeObserver.disconnect();const t=document.getElementById("orientation-warning");t&&t.remove()}bindEvents(){this.unbindScreenListener=b.subscribe(this.onResize),this.unbindDeviceListener=n(C,["isSmall"],this.onSmallScreenChange)}unbindEvents(){this.unbindScreenListener?.(),this.unbindDeviceListener?.()}onSmallScreenChange(t){this.updateScaleValues(),this.isInitialized&&(this.handleCanvasResize(),this.$scaleElement&&this.scaleTween&&this.reinitScaleAnimation(),o.refresh())}checkOrientation(){this.isMobile&&(window.innerWidth>window.innerHeight?this.showOrientationWarning():this.hideOrientationWarning())}showOrientationWarning(){let t=document.getElementById("orientation-warning");t||(t=document.createElement("div"),t.id="orientation-warning",t.innerHTML='\n        <div style="position: fixed; inset: 0; background: black; color: white; \n                    display: flex; align-items: center; justify-content: center; \n                    z-index: 9999; text-align: center; padding: 2rem;">\n          <div>\n            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" style="margin: 0 auto 1rem;">\n              <rect x="4" y="2" width="16" height="20" rx="2" ry="2"/>\n              <line x1="12" y1="18" x2="12" y2="18"/>\n            </svg>\n            <h2 style="font-size: 1.5rem; margin-bottom: 0.5rem;">Portrait Mode Only</h2>\n            <p style="opacity: 0.8;">Please rotate your device to portrait orientation</p>\n          </div>\n        </div>\n      ',document.body.appendChild(t)),t.style.display="flex"}hideOrientationWarning(){const t=document.getElementById("orientation-warning");t&&(t.style.display="none")}onResize(){this.isMobile?this.checkOrientation():(this.updateScaleValues(),this.$scaleElement&&this.scaleTween&&this.isInitialized&&this.reinitScaleAnimation())}updateScaleValues(){this.isMobile=window.innerWidth<=479,this.frameCount=this.isMobile?this.frameCountMobile:parseInt(this.getAttribute("data-frame-count"))||219;const t=getComputedStyle(document.documentElement),e=parseFloat(t.getPropertyValue("--vw"))||14.4,i=parseFloat(t.getPropertyValue("--vh"))||8;if(this.viewportWidth=window.innerWidth,this.viewportHeight=window.innerHeight,this.isMobile){const t=this.hasAttribute("data-scale-mobile-from-x"),s=this.hasAttribute("data-scale-mobile-from-y");this.scaleFromX=t?parseFloat(this.getAttribute("data-scale-mobile-from-x")):.255*e,this.scaleFromY=s?parseFloat(this.getAttribute("data-scale-mobile-from-y")):.12*i,this.scaleToX=this.hasAttribute("data-scale-mobile-to-x")?parseFloat(this.getAttribute("data-scale-mobile-to-x")):5*this.scaleFromX,this.scaleToY=this.hasAttribute("data-scale-mobile-to-y")?parseFloat(this.getAttribute("data-scale-mobile-to-y")):5*this.scaleFromY}else{const t=this.hasAttribute("data-scale-from-x"),s=this.hasAttribute("data-scale-from-y");this.scaleFromX=t?parseFloat(this.getAttribute("data-scale-from-x")):.93*e,this.scaleFromY=s?parseFloat(this.getAttribute("data-scale-from-y")):.9*i,this.scaleToX=this.hasAttribute("data-scale-to-x")?parseFloat(this.getAttribute("data-scale-to-x")):2*this.scaleFromX,this.scaleToY=this.hasAttribute("data-scale-to-y")?parseFloat(this.getAttribute("data-scale-to-y")):2*this.scaleFromY}}reinitScaleAnimation(){if(!this.$scaleElement||!this.scaleTween)return;const t=this.scaleTween.progress();this.scaleTween.kill(),this.scaleTween=null,this.clipPathOffsetX=this.viewportWidth/2-50,this.clipPathOffsetY=this.viewportHeight/2-50,this.transformOrigin=this.isMobile?"50px 30px":"50px 50px",s.set(this.$scaleElement,{scaleX:this.scaleFromX,scaleY:this.scaleFromY,transformOrigin:this.transformOrigin,x:this.clipPathOffsetX,y:this.clipPathOffsetY}),this.initScaleAnimation(),this.scaleTween&&this.scaleTween.progress(t)}setupResizeObserver(){this.$canvas&&(this.resizeObserver=new ResizeObserver(t=>{for(const e of t)this.handleCanvasResize()}),this.resizeObserver.observe(this.$canvas))}handleCanvasResize(){if(!this.$canvas||!this.ctx)return;const t=window.innerWidth,e=window.innerHeight,i=Math.floor(1*t),s=Math.floor(1*e);if((this.$canvas.width!==i||this.$canvas.height!==s)&&(this.$canvas.width=i,this.$canvas.height=s,this.$canvas.style.width="100%",this.$canvas.style.height="100%",this.images[this.currentFrame]))try{this.drawImageToCanvas(this.images[this.currentFrame])}catch(a){}}drawImageToCanvas(t){if(t&&this.ctx)try{const e=this.$canvas.width,i=this.$canvas.height;this.isMobile&&void 0!==this.ctx.imageSmoothingEnabled&&(this.ctx.imageSmoothingQuality="low"),this.ctx.clearRect(0,0,e,i);const s=t.width/t.height;let a,n,r,o;s>e/i?(n=i,a=n*s,r=(e-a)/2,o=0):(a=e,n=a/s,r=0,o=(i-n)/2),this.ctx.drawImage(t,r,o,a,n)}catch(e){}}initElements(){if(s.set(this,{height:this.scrollDistance}),this.$canvas=this.querySelector("canvas")||this.createCanvas(),this.ctx=this.$canvas.getContext("2d",{alpha:!0,desynchronized:!0}),this.$loading=this.querySelector("[data-loading]"),this.$loadingBar=this.querySelector("[data-loading-bar]"),this.$loadingText=this.querySelector("[data-loading-text]"),this.$loadingMask=this.querySelector("[data-loading-mask]"),this.$cacheStatus=this.querySelector("[data-cache-status]"),this.scaleTarget){const t=this.isMobile?"houseMobile":"house";this.$scaleElement=document.querySelector(`#${t}`);const e=this.$canvas.parentElement;e&&(e.style.clipPath=`url(#${t})`);const i=this.isMobile?this.viewportWidth/2-181:this.viewportWidth/2-50,a=this.isMobile?this.viewportHeight/2-155:this.viewportHeight/2-50,n=this.isMobile?"181px 100px":"50px 50px";s.set(this.$scaleElement,{scaleX:this.scaleFromX,scaleY:this.scaleFromY,transformOrigin:n,x:i,y:a}),this.clipPathOffsetX=i,this.clipPathOffsetY=a,this.transformOrigin=n}}createCanvas(){let t=this.querySelector("[data-pin-target]");t||(t=document.createElement("div"),t.setAttribute("data-pin-target",""),t.className="sequence-canvas-wrapper",this.appendChild(t)),this.isMobile?t.classList.add("is-mobile"):t.classList.remove("is-mobile");const e=document.createElement("canvas");return e.id="sequenceCanvas",e.setAttribute("data-canvas",""),t.appendChild(e),e}getSequenceId(){return`${this.isMobile?this.imageMobileFolder:this.imageFolder}-${this.frameCount}-${this.imageFormat}`}async preloadImagesWithCache(){if(!this.imageCache)return this.preloadImages();const t=this.getSequenceId(),e=this.isMobile?this.imageMobileFolder:this.imageFolder;try{Date.now();this.imagesLoaded=0,this.cachedImagesLoaded=0;const i=[];for(let t=this.frameStart;t<this.frameCount;t++){const s=`${e}${String(t).padStart(4,"0")}.${this.imageFormat}`;i.push(s)}this.$cacheStatus&&(this.$cacheStatus.textContent="Loading images...",this.$cacheStatus.classList.remove("hidden"));let s=null;await this.imageCache.loadSequenceImages(i,t,(t,e,i,a,n)=>{if(null===s&&(s=i,this.showLoadingAnimation=!i,this.showLoadingAnimation||this.$loading&&this.$loading.classList.add("hidden")),this.images[this.frameStart+n]=a,i&&this.cachedImagesLoaded++,this.imagesLoaded=t,this.showLoadingAnimation&&this.updateLoadingProgress(),this.$cacheStatus&&1===t){const t=Math.round(this.cachedImagesLoaded/e*100);this.$cacheStatus.textContent=`Loading images (${t}% from cache)...`}1===this.imagesLoaded&&a&&this.updateFrame(this.frameStart),t>=e&&this.onImagesLoaded()}),Date.now(),this.frameCount>0&&Math.round(this.cachedImagesLoaded/this.frameCount*100)}catch(i){this.preloadImages()}}async preloadImages(){this.imagesLoaded=0,this.showLoadingAnimation=!0,this.$cacheStatus&&(this.$cacheStatus.textContent="Cache disabled - loading from network",this.$cacheStatus.classList.remove("hidden"));for(let e=this.frameStart;e<this.frameCount;e++){const i=String(e).padStart(4,"0"),s=`${this.imageFolder}${i}.${this.imageFormat}`;try{const t=await this.loadImage(s);this.images[e]=t,this.imagesLoaded++,this.updateLoadingProgress(),1===this.imagesLoaded&&this.updateFrame(this.frameStart),this.imagesLoaded>=this.frameCount&&this.onImagesLoaded()}catch(t){this.imagesLoaded++,this.updateLoadingProgress(),this.imagesLoaded>=this.frameCount&&this.onImagesLoaded()}}}loadImage(t){return new Promise((e,i)=>{const s=new Image;s.onload=()=>e(s),s.onerror=i,s.src=t})}updateLoadingProgress(){if(!this.showLoadingAnimation)return;const t=this.imagesLoaded/this.frameCount,e=Math.round(100*t);if(this.$loadingBar&&(this.$loadingBar.style.width=`${e}%`),this.$loadingText&&(this.$loadingText.textContent=`${e}%`),this.$loadingMask&&t>0){const t=e;this.$loadingMask.style.clipPath=`inset(0% 0% ${t}% 0%)`}}onImagesLoaded(){if(V.start(),this.isInitialized=!0,document.documentElement.classList.add(L.SEQUENCE_LOADED),this.$cacheStatus&&this.enableCache){const t=this.frameCount>0?Math.round(this.cachedImagesLoaded/this.frameCount*100):0;this.$cacheStatus.textContent=`Cache: ${this.cachedImagesLoaded}/${this.frameCount} (${t}%)`}this.$loading&&this.showLoadingAnimation?s.to(this.$loading,{opacity:0,duration:.4,ease:"power2.out",onComplete:()=>{this.$loading.classList.add("hidden")}}):this.$loading&&this.$loading.classList.add("hidden"),this.updateFrame(this.frameStart),this.initScrollTrigger(),this.$scaleElement&&this.initScaleAnimation()}initScaleAnimation(){this.$scaleElement&&(null!==this.scalePeak?this.scaleTween=s.timeline({paused:!0}).to(this.$scaleElement,{scaleX:this.scaleToX,scaleY:this.scaleToY,transformOrigin:this.transformOrigin,x:this.clipPathOffsetX,y:this.clipPathOffsetY,ease:"power2.inOut"}).to(this.$scaleElement,{scaleX:this.scaleFromX,scaleY:this.scaleFromY,transformOrigin:this.transformOrigin,x:this.clipPathOffsetX,y:this.clipPathOffsetY,ease:"power2.inOut"}):this.scaleTween=s.timeline({paused:!0}).to(this.$scaleElement,{scaleX:this.scaleToX,scaleY:this.scaleToY,transformOrigin:this.transformOrigin,x:this.clipPathOffsetX,y:this.clipPathOffsetY,ease:"power2.inOut"}))}updateScaleProgress(t){if(!this.scaleTween)return;let e=0;e=null!==this.scalePeak?t<=this.scaleStart?0:t<=this.scalePeak?(t-this.scaleStart)/(this.scalePeak-this.scaleStart)*.5:t<=this.scaleEnd?.5+(t-this.scalePeak)/(this.scaleEnd-this.scalePeak)*.5:1:t<this.scaleStart?0:t>this.scaleEnd?1:(t-this.scaleStart)/(this.scaleEnd-this.scaleStart),this.scaleTween.progress(e)}initScrollTrigger(){this.scrollTrigger=o.create({trigger:this,start:"top top",end:"bottom 0%",scrub:!0,invalidateOnRefresh:!0,onUpdate:t=>{const e=Math.floor(t.progress*(this.frameCount-1));this.updateFrame(e),this.updateScaleProgress(t.progress),t.progress>.8?s.set(this,{zIndex:998}):s.set(this,{zIndex:999})},fastScrollEnd:!0,onRefresh:()=>{this.images[this.currentFrame]&&this.drawImageToCanvas(this.images[this.currentFrame])}})}updateFrame(t){if(t!==this.currentFrame&&this.images[t]){if(this.currentFrame=t,this.isMobile&&t%4!=0&&0!==t&&t!==this.frameCount-1)return;this.frameUpdatePending&&cancelAnimationFrame(this.frameUpdatePending),this.frameUpdatePending=requestAnimationFrame(()=>{try{this.drawImageToCanvas(this.images[t]),this.frameUpdatePending=null}catch(e){this.frameUpdatePending=null}})}}cleanup(){if(!this.isCleaningUp){if(this.isCleaningUp=!0,this.frameUpdatePending&&(cancelAnimationFrame(this.frameUpdatePending),this.frameUpdatePending=null),this.scrollTrigger)try{this.scrollTrigger.kill(!0),this.scrollTrigger=null}catch(t){}this.scaleTween&&(this.scaleTween.kill(),this.scaleTween=null),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.images=[],this.imagesLoaded=0,this.cachedImagesLoaded=0,this.currentFrame=0,this.isInitialized=!1,this.isCleaningUp=!1}}getProgress(){return this.scrollTrigger?.progress||0}getCurrentFrame(){return this.currentFrame}getTotalFrames(){return this.frameCount}isLoaded(){return this.imagesLoaded>=this.frameCount}getCacheStats(){return{enabled:this.enableCache,cachedFrames:this.cachedImagesLoaded,totalFrames:this.frameCount,cacheHitRate:this.frameCount>0?Math.round(this.cachedImagesLoaded/this.frameCount*100):0}}async clearCache(){if(this.imageCache){const t=this.getSequenceId();await this.imageCache.clearSequenceCache(t),this.cachedImagesLoaded=0,this.$cacheStatus&&(this.$cacheStatus.textContent="Cache cleared")}}async getCacheSize(){return this.imageCache?await this.imageCache.getCacheSize():null}async pruneOldCaches(){if(this.imageCache){const t=this.getSequenceId();return await this.imageCache.pruneOldCaches([t])}return 0}refresh(){o.refresh()}}s.registerPlugin(o);class H extends HTMLElement{constructor(){super(),this.DOM={container:this,wrapper:null,list:null,cards:[],cardsContent:[]},this.currentCardIndex=null,this.scrollTrigger=null,this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onDesktopChange=this.onDesktopChange.bind(this)}connectedCallback(){this.setupDOM(),this.initializeCards(),this.bindEvents()}disconnectedCallback(){this.unbindEvents(),this.cleanup()}setupDOM(){this.DOM.wrapper=this.querySelector("[data-cards-wrapper]")||this.querySelector(".cards_stack_wrapper"),this.DOM.list=this.querySelector("[data-cards-list]")||this.querySelector(".cards_stack_list"),this.DOM.cards=Array.from(this.querySelectorAll("[data-card]")||this.querySelectorAll(".cards_stack_item")),this.DOM.cardsContent=this.DOM.cards.map(t=>t.querySelector("[data-card-content]")||t.firstElementChild)}initializeCards(){this.DOM.cards.forEach(t=>{s.set(t,{rotation:3*s.utils.random(-1,1)})})}bindEvents(){this.unbindMediaListener=n(C,["isSmall"],this.onDesktopChange);const{isSmall:t}=C.get();t||this.initDesktopBehavior()}unbindEvents(){this.unbindMediaListener?.(),this.removeDesktopListeners()}onDesktopChange({isSmall:t}){t?(this.removeDesktopListeners(),this.resetCards()):this.initDesktopBehavior()}initDesktopBehavior(){this.scatterCards(),this.createEntranceAnimation(),this.addDesktopListeners()}scatterCards(){this.DOM.cards.forEach(t=>{s.set(t,{xPercent:10*s.utils.random(-1,1),yPercent:10*s.utils.random(0,1),rotation:10*s.utils.random(-1,1)})})}createEntranceAnimation(){this.scrollTrigger&&this.scrollTrigger.kill();const t=s.timeline({paused:!0,scrollTrigger:{trigger:this.DOM.container,start:"top bottom-=20%",once:!0,onEnter:()=>{this.scrollTrigger=o.getById(t.scrollTrigger.vars.id)}}});t.fromTo(this.DOM.cards,{x:.8*window.innerWidth,xPercent:10*s.utils.random(-1,1),yPercent:10*s.utils.random(0,1),rotation:40},{x:0,xPercent:10*s.utils.random(-1,1),yPercent:10*s.utils.random(0,1),rotation:()=>10*s.utils.random(-1,1),ease:"elastic.out(1, 1)",duration:1.6,stagger:.1})}addDesktopListeners(){this.DOM.cards.forEach(t=>{t.addEventListener("mouseenter",this.onMouseEnter),t.addEventListener("mouseleave",this.onMouseLeave)})}removeDesktopListeners(){this.DOM.cards.forEach(t=>{t.removeEventListener("mouseenter",this.onMouseEnter),t.removeEventListener("mouseleave",this.onMouseLeave)})}onMouseEnter(t){t.preventDefault();const{currentTarget:e}=t,i=this.DOM.cards.indexOf(e);this.leaveCard(this.currentCardIndex),this.currentCardIndex=i,this.hoverCard(this.currentCardIndex)}onMouseLeave(t){t.preventDefault(),this.leaveCard(this.currentCardIndex),this.currentCardIndex=null,s.to(this.DOM.cardsContent,{xPercent:0,ease:"elastic.out(1, 0.85)",duration:.8,overwrite:!0})}hoverCard(t){null!=t&&(s.to(this.DOM.cards[t],{xPercent:0,yPercent:0,rotation:0,scale:1.1,duration:1.2,ease:"elastic.out(1, 0.85)"}),this.DOM.cardsContent.forEach((e,i)=>{const a=i-t;0!==a?s.to(e,{xPercent:33/a,ease:"elastic.out(1, 0.85)",duration:1.2}):s.to(e,{xPercent:0,ease:"elastic.out(1, 0.85)",duration:1.2})}))}leaveCard(t){null!=t&&s.to(this.DOM.cards[t],{xPercent:10*s.utils.random(-1,1),yPercent:10*s.utils.random(0,1),rotation:10*s.utils.random(-1,1),scale:1,duration:1.2,ease:"elastic.out(1, 0.85)"})}resetCards(){s.set([this.DOM.cards,this.DOM.cardsContent],{clearProps:"all"}),this.currentCardIndex=null}cleanup(){this.scrollTrigger&&(this.scrollTrigger.kill(),this.scrollTrigger=null),s.killTweensOf([this.DOM.cards,this.DOM.cardsContent])}}s.registerPlugin(o);class U extends _{static ANIM_TYPES={HIGH_LINES:"high-lines",FADE_IN:"fade-in",SLIDE_UP:"slide-up",COLOR_FILL:"color-fill"};constructor(){super(),this.animationTimeline=null,this.scrollTriggerInstance=null,this.animationType=null,this.animationConfig={},this.isAnimating=!1}async connectedCallback(){this.animationType=this.getAttribute("data-anim"),this.animationType&&this.parseAnimationConfig(),await super.connectedCallback()}disconnectedCallback(){this.cleanupAnimation(),super.disconnectedCallback()}parseAnimationConfig(){const t=this.getAttribute("data-anim-config")||"",e={[U.ANIM_TYPES.HIGH_LINES]:{direction:"right",color:"lime",delay:0,textRevealDuration:.6,highlightRevealDuration:.6,staggerDelay:.15},[U.ANIM_TYPES.FADE_IN]:{duration:.8,stagger:.05,delay:0},[U.ANIM_TYPES.SLIDE_UP]:{duration:.8,stagger:.05,delay:0,distance:50},[U.ANIM_TYPES.COLOR_FILL]:{initialColor:"rgba(0,0,0, .3)",start:"top 70%",end:"top 30%",scrub:1,markers:!1,stagger:.06}};this.animationConfig={...e[this.animationType]},t&&t.split(",").map(t=>t.trim()).forEach(t=>{const[e,i]=t.split(":").map(t=>t.trim());e&&void 0!==i&&(this.animationConfig[e]=isNaN(i)?i:parseFloat(i))})}split(){super.split(),this.animationType&&setTimeout(()=>{this.animationTimeline&&this.cleanupAnimation(),this.initAnimation()},0)}initAnimation(){const t=this.closest("[data-hero-animation-container]");switch(this.animationType){case U.ANIM_TYPES.HIGH_LINES:this.setupHighLines();break;case U.ANIM_TYPES.FADE_IN:this.setupFadeIn();break;case U.ANIM_TYPES.SLIDE_UP:this.setupSlideUp();break;case U.ANIM_TYPES.COLOR_FILL:this.setupColorFill();break;default:return}!t&&this.animationTimeline&&this.animationType!==U.ANIM_TYPES.COLOR_FILL?this.scrollTriggerInstance=o.create({trigger:this,start:"top 90%",once:!0,onEnter:()=>this.play()}):t&&this.animationType!==U.ANIM_TYPES.COLOR_FILL&&this.play()}getAllLines(){if(this.isRichText&&this.richTextSplitInstances.length){const t=[];return this.richTextSplitInstances.forEach(e=>{e&&e.lines&&t.push(...e.lines)}),t}return this.splitInstance?.lines||[]}getItemsByType(t){if(this.isRichText&&this.richTextSplitInstances.length){const e=[];return this.richTextSplitInstances.forEach(i=>{i&&i[t]&&e.push(...i[t])}),e}return this.splitInstance?.[t]||[]}setupHighLines(){const{direction:t,color:e,delay:i,textRevealDuration:a,highlightRevealDuration:n,staggerDelay:r}=this.animationConfig,o={accent:"var(--_color---neutral--black, #221d19)",lime:"var(--color--lime, #d2ff00)","lime-off":"var(--color--lime-off, #b2c73a)","dark-green":"var(--color--dark-green, #282c20)","dark-green-tint-1":"var(--color--dark-green-tint-1, #3b3c38)",black:"var(--color--black, #111112)",white:"var(--color--white, #f4f4ed)"},l=o[e]||o.lime,h=this.getAllLines();h.length&&(this.animationTimeline=s.timeline({paused:!0,delay:i/1e3}),h.forEach((e,i)=>{e.style.position="relative";const o="right"===t?"inset(0 100% 0 0)":"inset(0 0 0 100%)";s.set(e,{clipPath:o,autoAlpha:1});const h=document.createElement("div");h.className="high-line-reveal",h.style.position="absolute",h.style.top="0",h.style.left="0",h.style.width="100%",h.style.height="100%",h.style.backgroundColor=l,h.style.borderRadius=".2em ",h.style.transformOrigin="right"===t?"right center":"left center",h.style.zIndex="5",e.appendChild(h),s.set(h,{scaleX:1});const c=i*r,d="right"===t?"inset(0 0% 0 0)":"inset(0 0 0 0%)";this.animationTimeline.to(e,{clipPath:d,duration:a,ease:"power2.out"},c),this.animationTimeline.to(h,{scaleX:0,duration:n,ease:"power2.inOut"},c+a/2)}))}setupFadeIn(){const{duration:t,stagger:e,delay:i}=this.animationConfig,a=this.getItems();a.length&&(this.animationTimeline=s.timeline({paused:!0,delay:i/1e3}),this.animationTimeline.fromTo(a,{opacity:0},{opacity:1,duration:t,stagger:e,ease:"power2.out"}))}setupSlideUp(){const{duration:t,stagger:e,delay:i,distance:a}=this.animationConfig,n=this.getItems();n.length&&(this.animationTimeline=s.timeline({paused:!0,delay:i/1e3}),this.animationTimeline.fromTo(n,{opacity:0,yPercent:a},{opacity:1,yPercent:0,duration:t,stagger:e,ease:"power2.out"}))}setupColorFill(){const{initialColor:t,start:e,end:i,scrub:a,markers:n,stagger:r}=this.animationConfig,l=window.getComputedStyle(this).color,h=this.getItemsByType("chars");h.length&&(s.set(h,{color:t}),this.animationTimeline=s.timeline({paused:!0}),this.animationTimeline.to(h,{color:l,stagger:r,ease:"none",duration:.1}),this.scrollTriggerInstance=o.create({trigger:this,start:e,end:i,markers:n,scrub:a,animation:this.animationTimeline}))}cleanupAnimation(){this.animationTimeline&&(this.animationTimeline.kill(),this.animationTimeline=null),this.scrollTriggerInstance&&(this.scrollTriggerInstance.kill(),this.scrollTriggerInstance=null),this.querySelectorAll(".high-line-reveal").forEach(t=>t.remove())}play(){return this.animationTimeline?(this.isAnimating=!0,this.animationTimeline.play()):null}pause(){return this.animationTimeline?(this.isAnimating=!1,this.animationTimeline.pause()):null}restart(){return this.animationTimeline?(this.isAnimating=!0,this.animationTimeline.restart()):null}reverse(){return this.animationTimeline?this.animationTimeline.reverse():null}seek(t){return this.animationTimeline?this.animationTimeline.seek(t):null}getProgress(){return this.animationTimeline?.progress()||0}setProgress(t){return this.animationTimeline?this.animationTimeline.progress(t):null}animateHighLines(t={}){return this.animationConfig={...this.animationConfig,...t},this.cleanupAnimation(),this.setupHighLines(),this.play()}animateFadeIn(t={}){return this.animationConfig={...this.animationConfig,...t},this.cleanupAnimation(),this.setupFadeIn(),this.play()}animateSlideUp(t={}){return this.animationConfig={...this.animationConfig,...t},this.cleanupAnimation(),this.setupSlideUp(),this.play()}animateColorFill(t={}){return this.animationConfig={...this.animationConfig,...t},this.cleanupAnimation(),this.setupColorFill(),this.scrollTriggerInstance}}s.registerPlugin(o);class B extends HTMLElement{constructor(){super(),this.$pathDesktop=null,this.$svgDesktop=null,this.$imageDesktop=null,this.$pathMobile=null,this.$svgMobile=null,this.$imageMobile=null,this.$activePath=null,this.$activeSvg=null,this.$activeImage=null,this.$activeClipId=null,this.scrollTriggerInstance=null,this.animationInstance=null,this.isMobile=!1,this.isInitialized=!1}connectedCallback(){this.$svgDesktop=this.querySelector(".clip-svg:not(.clip-svg-mobile)"),this.$svgMobile=this.querySelector(".clip-svg-mobile"),(this.$svgDesktop||this.$svgMobile)&&(this.$svgDesktop&&(this.$pathDesktop=this.$svgDesktop.querySelector("[data-morph-path]")),this.$svgMobile&&(this.$pathMobile=this.$svgMobile.querySelector("[data-morph-path]")),(this.$pathDesktop||this.$pathMobile)&&(this.bindEvents(),this.updateActiveElements(),this.setupClipPath(),this.setupImageResponsive(),this.setupMorph(),this.isInitialized=!0))}disconnectedCallback(){this.unbindEvents(),this.destroy(),this.isInitialized=!1}bindEvents(){this.unbindScreenListener=b.subscribe(()=>this.refresh()),this.unbindDeviceListener=n(C,["isSmall"],this.onSmallScreenChange)}unbindEvents(){this.unbindScreenListener?.(),this.unbindDeviceListener?.()}updateActiveElements(){const t=parseInt(this.dataset.morphMobileBreakpoint||"768",10),e=window.matchMedia(`(max-width: ${t}px)`);this.isMobile=e.matches,this.isMobile&&this.$svgMobile&&this.$pathMobile?(this.$activeSvg=this.$svgMobile,this.$activePath=this.$pathMobile,this.$activeImage=this.$imageMobile,this.$svgMobile.style.display="block",this.$svgDesktop&&(this.$svgDesktop.style.display="none")):(this.$activeSvg=this.$svgDesktop||this.$svgMobile,this.$activePath=this.$pathDesktop||this.$pathMobile,this.$activeImage=this.$imageDesktop||this.$imageMobile,this.$svgDesktop&&(this.$svgDesktop.style.display="block"),this.$svgMobile&&(this.$svgMobile.style.display="none"));const i=this.dataset.morphImageSelector||"image";this.$activeImage=this.$activeSvg?.querySelector(i)||null}setupClipPath(){if(!this.$activePath||!this.$activeSvg)return;const t=this.dataset.morphClipId,e=this.dataset.morphClipIdDesktop||t,i=this.dataset.morphClipIdMobile||t,s=this.isMobile?i:e;if(!s)return;const a=this.$activeSvg;if(!this.$activePath.id){const t=this.isMobile?"mobile":"desktop";this.$activePath.id=`${s}-path-${t}`}let n=a.querySelector("defs");n||(n=document.createElementNS("http://www.w3.org/2000/svg","defs"),a.insertBefore(n,a.firstChild));let r=n.querySelector(`#${s}`);r||(r=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),r.id=s,n.appendChild(r)),r.setAttribute("clipPathUnits","userSpaceOnUse"),Array.from(r.children).forEach(t=>r.removeChild(t));const o=this.$activePath.cloneNode(!0);o.removeAttribute("data-morph-path"),o.removeAttribute("data-morph-target"),r.appendChild(o),this.$clipPathClone=o,this.$activeClipId=s}setupImageResponsive(){if(!this.$activeImage||!this.$activeSvg)return;const t=this.$activeClipId,e=(this.$activeSvg.getAttribute("viewBox")||"0 0 1340 650").split(" ").map(Number),i=e[2],s=e[3];this.$activeImage.setAttribute("x","0"),this.$activeImage.setAttribute("y","0"),this.$activeImage.setAttribute("width",String(i)),this.$activeImage.setAttribute("height",String(s));const a=this.dataset.morphAspectRatio||"xMidYMid slice";this.$activeImage.setAttribute("preserveAspectRatio",a),t&&this.$activeImage.setAttribute("clip-path",`url(#${t})`)}setupMorph(){if(!this.$activePath)return;const t=this.$activePath.dataset.morphTarget;if(!t)return;const e=this.dataset.morphTrigger||this,i=this.dataset.morphStart||"top center",a=this.dataset.morphEnd||"center center",n=parseFloat(this.dataset.morphScrub)||1,r="true"===this.dataset.morphMarkers,o=this.$clipPathClone?[this.$activePath,this.$clipPathClone]:this.$activePath;this.animationInstance=s.to(o,{attr:{d:t},ease:"none",scrollTrigger:{trigger:e,start:i,end:a,scrub:n,markers:r,onRefresh:()=>this.onRefresh(),onUpdate:t=>this.onUpdate(t)}}),this.scrollTriggerInstance=this.animationInstance.scrollTrigger}onSmallScreenChange=()=>{if(!this.isInitialized)return;const t=this.isMobile;this.updateActiveElements(),t!==this.isMobile?(this.destroy(),this.setupClipPath(),this.setupImageResponsive(),this.setupMorph()):this.refresh()};onRefresh(){}onUpdate(t){}refresh(){this.scrollTriggerInstance?.refresh()}destroy(){this.animationInstance&&(this.animationInstance.kill(),this.animationInstance=null),this.scrollTriggerInstance&&(this.scrollTriggerInstance.kill(),this.scrollTriggerInstance=null),this.$clipPathClone=null}reset(){this.animationInstance?.progress(0)}complete(){this.animationInstance?.progress(1)}getProgress(){return this.animationInstance?.progress()||0}setProgress(t){const e=Math.max(0,Math.min(1,t));this.animationInstance?.progress(e)}isMobileActive(){return this.isMobile}}class j extends HTMLElement{static DEFAULT_BACKGROUND="#f5f4f3";static DEFAULT_HEIGHT="15rem";static DEFAULT_BLUR="4px";static POSITION_TOP="top";static POSITION_BOTTOM="bottom";constructor(){super(),this.backgroundColor=null,this.position=null,this.height=null,this.blurAmount=null,this.isTop=!1,this.onResize=this.onResize.bind(this)}connectedCallback(){try{this.detectConfig(),this.setupBlur(),this.bindEvents()}catch(t){}}disconnectedCallback(){this.unbindEvents()}detectConfig(){this.backgroundColor=this.dataset.blurBackground||j.DEFAULT_BACKGROUND,this.position=this.dataset.blurPosition||j.POSITION_TOP,this.height=this.dataset.blurHeight||j.DEFAULT_HEIGHT,this.blurAmount=this.dataset.blurAmount||j.DEFAULT_BLUR,this.isTop=this.position===j.POSITION_TOP}setupBlur(){this.classList.add("progressive-blur"),this.style.position="fixed",this.style.left="0",this.style.width="100%",this.style.pointerEvents="none",this.style.userSelect="none",this.style.WebkitUserSelect="none",this.style.zIndex="998",this.applyPositionStyles()}applyPositionStyles(){this.style[this.isTop?"top":"bottom"]="0",this.style.height=this.height;const t=this.isTop?"to top":"to bottom";this.style.background=`linear-gradient(${t}, transparent, ${this.backgroundColor})`;const e=`linear-gradient(${this.isTop?"to bottom":"to top"}, ${this.backgroundColor} 0%, transparent)`;this.style.maskImage=e,this.style.WebkitMaskImage=e,this.style.backdropFilter=`blur(${this.blurAmount})`,this.style.WebkitBackdropFilter=`blur(${this.blurAmount})`}bindEvents(){window.addEventListener("resize",this.onResize)}unbindEvents(){window.removeEventListener("resize",this.onResize)}onResize(){requestAnimationFrame(()=>{this.applyPositionStyles()})}updateBackground(t){this.backgroundColor=t,this.dataset.blurBackground=t,this.applyPositionStyles()}updatePosition(t){t!==j.POSITION_TOP&&t!==j.POSITION_BOTTOM||(this.style[this.isTop?"top":"bottom"]="",this.position=t,this.dataset.blurPosition=t,this.isTop=t===j.POSITION_TOP,this.applyPositionStyles())}updateHeight(t){this.height=t,this.dataset.blurHeight=t,this.applyPositionStyles()}updateBlurAmount(t){this.blurAmount=t,this.dataset.blurAmount=t,this.applyPositionStyles()}}s.registerPlugin(o);class W extends HTMLElement{static ANIM_TYPES={VERTICAL_REVEAL:"vertical-reveal",HORIZONTAL_REVEAL:"horizontal-reveal",CIRCLE_REVEAL:"circle-reveal",LINE_REVEAL:"line-reveal",RECT_REVEAL:"rect-reveal",FADE_IN:"fade-in",SCALE_IN:"scale-in"};constructor(){super(),this.animationTimeline=null,this.scrollTriggerInstance=null,this.animationType=null,this.animationConfig={},this.isAnimating=!1,this.clones=[],this.originalImage=null,this.imageContainer=null,this.isImageLoaded=!1}async connectedCallback(){this.animationType=this.getAttribute("data-anim"),this.animationType&&(this.parseAnimationConfig(),await this.waitForImageLoad(),this.init())}disconnectedCallback(){this.cleanupAnimation()}parseAnimationConfig(){const t=this.getAttribute("data-anim-config")||"",e={[W.ANIM_TYPES.VERTICAL_REVEAL]:{cloneCount:5,duration:1.2,stagger:.1,delay:0,ease:"power2.inOut"},[W.ANIM_TYPES.HORIZONTAL_REVEAL]:{cloneCount:5,duration:1.2,stagger:.1,delay:0,ease:"power2.inOut"},[W.ANIM_TYPES.CIRCLE_REVEAL]:{cloneCount:8,duration:1.5,stagger:.08,delay:0,ease:"power2.out",sizeMultiplier:.82},[W.ANIM_TYPES.LINE_REVEAL]:{cloneCount:6,angle:15,duration:1.2,stagger:.1,delay:0,ease:"power2.inOut"},[W.ANIM_TYPES.RECT_REVEAL]:{cloneCount:6,duration:1.2,stagger:.08,delay:0,ease:"power2.out"},[W.ANIM_TYPES.FADE_IN]:{duration:1,delay:0,ease:"power2.out"},[W.ANIM_TYPES.SCALE_IN]:{duration:1.2,delay:0,ease:"power2.out",startScale:.8}};this.animationConfig={...e[this.animationType]},t&&t.split(",").map(t=>t.trim()).forEach(t=>{const[e,i]=t.split(":").map(t=>t.trim());e&&void 0!==i&&(this.animationConfig[e]="true"===i||"false"!==i&&(isNaN(i)?i:parseFloat(i)))})}waitForImageLoad(){return new Promise(t=>{if(this.originalImage=this.querySelector("img"),this.originalImage){if(this.originalImage.complete&&0!==this.originalImage.naturalHeight)return this.isImageLoaded=!0,void t();this.originalImage.addEventListener("load",()=>{this.isImageLoaded=!0,t()},{once:!0}),this.originalImage.addEventListener("error",()=>{t()},{once:!0})}else t()})}init(){if(!this.originalImage||!this.isImageLoaded)return;this.prepareContainer(),this.setupAnimation();const t=this.closest("[data-hero-animation-container]");!t&&this.animationTimeline?this.scrollTriggerInstance=o.create({trigger:this,start:"top 90%",once:!0,onEnter:()=>this.play()}):t&&this.animationTimeline&&this.play()}prepareContainer(){this.imageContainer||(this.imageContainer=document.createElement("div"),this.imageContainer.className="animated-image-container",this.imageContainer.style.position="relative",this.imageContainer.style.width="100%",this.imageContainer.style.height="100%",this.imageContainer.style.overflow="hidden",this.originalImage.parentNode.insertBefore(this.imageContainer,this.originalImage),this.imageContainer.appendChild(this.originalImage)),this.originalImage.classList.add("animated-image-original"),this.originalImage.style.position="relative",this.originalImage.style.display="block",this.originalImage.style.width="100%",this.originalImage.style.height="auto"}createClones(t){const e=document.createDocumentFragment();for(let i=0;i<t-1;i++){const t=this.originalImage.cloneNode(!0);t.classList.add("animated-image-clone"),t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.objectFit=this.originalImage.style.objectFit||"cover",this.clones.push(t),e.appendChild(t)}this.imageContainer.appendChild(e)}getAllImages(){return[this.originalImage,...this.clones]}setupAnimation(){switch(this.animationType){case W.ANIM_TYPES.VERTICAL_REVEAL:this.setupVerticalReveal();break;case W.ANIM_TYPES.HORIZONTAL_REVEAL:this.setupHorizontalReveal();break;case W.ANIM_TYPES.CIRCLE_REVEAL:this.setupCircleReveal();break;case W.ANIM_TYPES.LINE_REVEAL:this.setupLineReveal();break;case W.ANIM_TYPES.RECT_REVEAL:this.setupRectReveal();break;case W.ANIM_TYPES.FADE_IN:this.setupFadeIn();break;case W.ANIM_TYPES.SCALE_IN:this.setupScaleIn();break;default:return}}setupVerticalReveal(){const{cloneCount:t,duration:e,stagger:i,delay:a,ease:n}=this.animationConfig;this.createClones(t);const r=this.getAllImages(),o=100/r.length;r.forEach((t,e)=>{const i=o*e,a=100-(i+o+.05);s.set(t,{clipPath:`inset(0% ${a}% 0% ${i}%)`,willChange:"clip-path"})}),this.animationTimeline=s.timeline({paused:!0,delay:a/1e3}),this.animationTimeline.to(r,{clipPath:t=>`inset(0% 0% 0% ${o*t}%)`,duration:e,stagger:i,ease:n})}setupHorizontalReveal(){const{cloneCount:t,duration:e,stagger:i,delay:a,ease:n}=this.animationConfig;this.createClones(t);const r=this.getAllImages(),o=100/r.length;r.forEach((t,e)=>{const i=o*e,a=100-(i+o+.06);s.set(t,{clipPath:`inset(${i}% 0% ${a}%)`,willChange:"clip-path"})}),this.animationTimeline=s.timeline({paused:!0,delay:a/1e3}),this.animationTimeline.to(r,{clipPath:t=>`inset(${o*t}% 0% 0%)`,duration:e,stagger:i,ease:n})}setupCircleReveal(){const{cloneCount:t,duration:e,stagger:i,delay:a,ease:n,sizeMultiplier:r}=this.animationConfig;this.createClones(t);const o=this.getAllImages(),l=100/o.length;o.forEach((t,e)=>{const i=l*e*r;s.set(t,{clipPath:`circle(${i}% at 50% 50%)`,zIndex:o.length-e,willChange:"clip-path"})}),this.animationTimeline=s.timeline({paused:!0,delay:a/1e3}),this.animationTimeline.to(o,{clipPath:"circle(100% at 50% 50%)",duration:e,stagger:i,ease:n})}setupLineReveal(){const{cloneCount:t,angle:e,duration:i,stagger:a,delay:n,ease:r}=this.animationConfig;this.createClones(t);const o=this.getAllImages(),l=(100+e)/100,h=100/o.length*l;o.forEach((t,i)=>{const a=h*i-e,n=a+h+.04,r=h*i,o=r+h+.04;s.set(t,{clipPath:`polygon(${r}% 0%, ${o}% 0%, ${n}% 100%, ${a}% 100%)`,willChange:"clip-path"})}),this.animationTimeline=s.timeline({paused:!0,delay:n/1e3}),this.animationTimeline.to(o,{clipPath:t=>{const e=h*t;return`polygon(${e}% 0%, 100% 0%, 100% 100%, ${e}% 100%)`},duration:i,stagger:a,ease:r})}setupRectReveal(){const{cloneCount:t,duration:e,stagger:i,delay:a,ease:n}=this.animationConfig;this.createClones(t);const r=this.getAllImages(),o=50/r.length;r.forEach((t,e)=>{const i=50-o*e-o;s.set(t,{clipPath:`inset(${i}%)`,zIndex:r.length-e,willChange:"clip-path"})}),this.animationTimeline=s.timeline({paused:!0,delay:a/1e3}),this.animationTimeline.to(r,{clipPath:"inset(0%)",duration:e,stagger:i,ease:n})}setupFadeIn(){const{duration:t,delay:e,ease:i}=this.animationConfig;s.set(this.originalImage,{opacity:0}),this.animationTimeline=s.timeline({paused:!0,delay:e/1e3}),this.animationTimeline.to(this.originalImage,{opacity:1,duration:t,ease:i})}setupScaleIn(){const{duration:t,delay:e,ease:i,startScale:a}=this.animationConfig;s.set(this.originalImage,{opacity:0,scale:a}),this.animationTimeline=s.timeline({paused:!0,delay:e/1e3}),this.animationTimeline.to(this.originalImage,{opacity:1,scale:1,duration:t,ease:i})}cleanupAnimation(){this.animationTimeline&&(this.animationTimeline.kill(),this.animationTimeline=null),this.scrollTriggerInstance&&(this.scrollTriggerInstance.kill(),this.scrollTriggerInstance=null),this.clones.forEach(t=>t.remove()),this.clones=[],this.originalImage&&s.set(this.originalImage,{clearProps:"all"})}play(){return this.animationTimeline?(this.isAnimating=!0,this.animationTimeline.play()):null}pause(){return this.animationTimeline?(this.isAnimating=!1,this.animationTimeline.pause()):null}restart(){return this.animationTimeline?(this.isAnimating=!0,this.animationTimeline.restart()):null}reverse(){return this.animationTimeline?this.animationTimeline.reverse():null}seek(t){return this.animationTimeline?this.animationTimeline.seek(t):null}getProgress(){return this.animationTimeline?.progress()||0}setProgress(t){return this.animationTimeline?this.animationTimeline.progress(t):null}animate(t,e={}){return this.animationType=t,this.animationConfig={...this.animationConfig,...e},this.cleanupAnimation(),this.setupAnimation(),this.play()}animateVerticalReveal(t={}){return this.animate(W.ANIM_TYPES.VERTICAL_REVEAL,t)}animateHorizontalReveal(t={}){return this.animate(W.ANIM_TYPES.HORIZONTAL_REVEAL,t)}animateCircleReveal(t={}){return this.animate(W.ANIM_TYPES.CIRCLE_REVEAL,t)}animateLineReveal(t={}){return this.animate(W.ANIM_TYPES.LINE_REVEAL,t)}animateRectReveal(t={}){return this.animate(W.ANIM_TYPES.RECT_REVEAL,t)}animateFadeIn(t={}){return this.animate(W.ANIM_TYPES.FADE_IN,t)}animateScaleIn(t={}){return this.animate(W.ANIM_TYPES.SCALE_IN,t)}}customElements.get("animated-image")||customElements.define("animated-image",W);const X=[{name:"c-split",class:_,type:"Split"},{name:"c-sequence-canvas",class:Y,type:"SequenceCanvas"},{name:"c-cards-stack",class:H,type:"CardsStack"},{name:"c-animated-text",class:U,type:"AnimatedText"},{name:"c-morph-shape",class:B,type:"MorphShape"},{name:"c-progressive-blur",class:j,type:"ProgressiveBlur"},{name:"c-animated-image",class:W,type:"AnimatedImage"}],G={};class K{constructor(){this.onVisitStartBind=this.onVisitStart.bind(this),this.beforeContentReplaceBind=this.beforeContentReplace.bind(this),this.onContentReplaceBind=this.onContentReplace.bind(this),this.onAnimationInEndBind=this.onAnimationInEnd.bind(this),this.onAnimationOutStartBind=this.onAnimationOutStart.bind(this),this.goTo=this.goTo.bind(this),this.onPageView=this.onPageView.bind(this)}init(){this.initSwup(),this.bindEvents(),requestAnimationFrame(()=>{q.classList.add(L.READY)})}destroy(){this.unbindEvents(),this.swup?.destroy()}bindEvents(){window.addEventListener(P.GO_TO,this.goTo),this.swup.hooks.on("visit:start",this.onVisitStartBind),this.swup.hooks.before("content:replace",this.beforeContentReplaceBind),this.swup.hooks.on("content:replace",this.onContentReplaceBind),this.swup.hooks.on("animation:in:end",this.onAnimationInEndBind),this.swup.hooks.on("animation:out:start",this.onAnimationOutStartBind),this.swup.hooks.on("page:view",this.onPageView),this.swup.hooks.on("fetch:error",t=>{}),this.swup.hooks.on("fetch:timeout",t=>{})}unbindEvents(){window.removeEventListener(P.GO_TO,this.goTo)}initSwup(){this.swup=new l({animateHistoryBrowsing:!0,linkToSelf:"navigate",ignoreVisit:(t,{el:e,event:i}={})=>-1!=t.lastIndexOf("#show-cookie-consent")||e?.closest("[data-no-swup]"),plugins:this._getSwupPlugins()})}updateDocumentAttributes(t){const e=(new DOMParser).parseFromString(t.to.html,"text/html"),i={...e.querySelector("html")?.dataset};Object.entries(i).forEach(([t,e])=>{var i;q.setAttribute(`data-${i=t,i.split(/(?=[A-Z])/).join("-").toLowerCase()}`,e??"")})}_getSwupPlugins(){return[new h({preloadHoveredLinks:!0}),new c({announcements:{"en-US":{visit:"Navigated to: {title}",url:"New page at {url}"},"de-DE":{visit:"Navigiert zu: {title}",url:"Neue Seite unter {url}"},"fr-FR":{visit:"Navigué vers : {title}",url:"Nouvelle page à {url}"},"*":{visit:"{title}",url:"{url}"}}}),new d({offset:120}),new m({routes:[{name:"home",path:"/"},{name:"404",path:"/404"},{name:"any",path:"(.*)"}]})]}goTo(t){this.swup.navigate(t.detail)}onVisitStart(t){if(t.fragmentVisit||(t.scroll.reset=!1,q.classList.add(L.TRANSITION),q.classList.remove(L.READY)),t.fragmentVisit)switch(t.fragmentVisit.name){case"open-modal":y("Dialog").forEach(t=>{t.open()});break;case"close-modal":y("Dialog").forEach(t=>{t.close()});break;case"listing":V.scrollTo("#listing",{offset:-200})}window.dispatchEvent(new CustomEvent(P.VISIT_START,{detail:t}))}beforeContentReplace(t){t.fragmentVisit||V?.destroy()}onContentReplace(t){t.fragmentVisit?t.fragmentVisit.name:window.scrollTo(0,0),t.fragmentVisit||(V?.init(),this.updateDocumentAttributes(t))}onAnimationOutStart(t){t.fragmentVisit}onAnimationInEnd(t){t.fragmentVisit||(window.scrollTo(0,0),q.classList.remove(L.TRANSITION),q.classList.add(L.READY))}onPageView(t){const e=t.to.document.querySelector("html").getAttribute("data-wf-page");e&&document.documentElement.setAttribute("data-wf-page",e),window.Webflow.destroy(),window.Webflow.ready()}}class Z{constructor(){this.isInitialized=!1,this.load=null,this.startTime=performance.now()}async initialize(){try{await this.setupGlobals(),this.registerComponents(),this.setupScrolling(),this.setupRouting(),await this.loadFonts(),this.markAsReady(),this.isInitialized=!0,Math.round(performance.now()-this.startTime),this.setupDevHelpers()}catch(t){throw t}}async setupGlobals(){try{await async function(){A.IS_DEV&&function(t,e,i){let s=Promise.resolve();if(e&&e.length>0){let t=function(t){return Promise.all(t.map(t=>Promise.resolve(t).then(t=>({status:"fulfilled",value:t}),t=>({status:"rejected",reason:t}))))};const a=document.getElementsByTagName("link"),n=document.querySelector("meta[property=csp-nonce]"),r=n?.nonce||n?.getAttribute("nonce");s=t(e.map(t=>{if(t=function(t,e){return new URL(t,e).href}(t,i),t in G)return;G[t]=!0;const e=t.endsWith(".css"),s=e?'[rel="stylesheet"]':"";if(i)for(let i=a.length-1;i>=0;i--){const s=a[i];if(s.href===t&&(!e||"stylesheet"===s.rel))return}else if(document.querySelector(`link[href="${t}"]${s}`))return;const n=document.createElement("link");return n.rel=e?"stylesheet":"modulepreload",e||(n.as="script"),n.crossOrigin="",n.href=t,r&&n.setAttribute("nonce",r),document.head.appendChild(n),e?new Promise((e,i)=>{n.addEventListener("load",e),n.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${t}`)))}):void 0}))}function a(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return s.then(e=>{for(const t of e||[])"rejected"===t.status&&a(t.reason);return t().catch(a)})}(async()=>{const{default:t}=await import("./vendors.js").then(t=>t.f);return{default:t}},[],import.meta.url).then(({default:t})=>{new t({columns:"var(--grid-columns)",gutterWidth:"var(--grid-gutter)",marginWidth:"var(--grid-margin)",opacity:.1,key:"g",breakpoints:{1440:{columns:12}}})}).catch(t=>{}),f.subscribe(()=>{const t=document.documentElement.style,e=.01*document.body.clientWidth;t.setProperty("--vw",`${e.toFixed(2)}px`);const i=.01*window.innerHeight;if(t.setProperty("--vh",`${i.toFixed(2)}px`),A.SUPPORTS_VH)return;const s=.01*document.documentElement.clientHeight;t.setProperty("--svh",`${s}px`);const a=.01*window.innerHeight;if(t.setProperty("--dvh",`${a}px`),document.body){const e=document.createElement("div");e.style.width="1px",e.style.height="100vh",e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.bottom="0",e.style.visibility="hidden",document.body.appendChild(e);var n=e.clientHeight;e.remove();const i=.01*n;t.setProperty("--lvh",`${i}px`)}})}()}catch(t){}}registerComponents(){try{!function(){const t={registered:0,skipped:0,failed:0};X.forEach(({name:e,class:i,type:s,webgl:a=!1})=>{try{customElements.define(e,u(i,s)),t.registered++}catch(n){t.failed++}})}()}catch(t){throw t}}setupScrolling(){try{V.init(),V.start()}catch(t){}}setupRouting(){try{this.load=new K,this.load.init()}catch(t){}}async loadFonts(){if(O)try{const t=await async function(t){if(0===(t.size??t.length))throw new TypeError("Expected at least one font");return await async function(t){const e=[];for(const i of t)i instanceof FontFace?(document.fonts.has(i)||document.fonts.add(i),e.push(R(i))):e.push(...x(i).map(t=>R(t)));return await Promise.all(e)}([...t])}($.EAGER,A.IS_DEV);document.documentElement.classList.add(L.FONTS_LOADED),A.IS_DEV&&t.length>0&&t.slice(0,3).forEach(t=>{})}catch(t){}}markAsReady(){const t=document.documentElement;t.classList.add(L.FIRST_LOADED,L.LOADED,L.READY),t.classList.remove(L.LOADING),t.classList.toggle("is-safari",-1!==navigator.userAgent.indexOf("Safari")&&-1!==navigator.userAgent.indexOf("Version")&&-1===navigator.userAgent.indexOf("Chrome"))}setupDevHelpers(){A.IS_DEV&&(window.appDebug={app:this,scroll:V,load:this.load,components:()=>document.querySelectorAll("[data-prototype-type]"),webgl:()=>document.querySelectorAll("c-gl-text, c-gl-video, c-gl-image, c-gl-about"),perf:()=>{performance.getEntriesByType("navigation")[0]},reloadComponents:()=>{this.registerComponents()}})}destroy(){try{this.load?.destroy(),V.destroy(),A.IS_DEV&&window.appDebug&&(delete window.appDebug,delete window.app),this.isInitialized=!1}catch(t){}}getStatus(){return{initialized:this.isInitialized,hasRouting:!!this.load,hasScrolling:!!V.locomotiveScroll,fonts:document.documentElement.classList.contains(L.FONTS_LOADED),environment:A.NAME,uptime:Math.round(performance.now()-this.startTime)}}}new Promise(t=>{"complete"===document.readyState?t():window.addEventListener("load",()=>{t()})}).then(async function(){try{document.getElementById("designerStyles")?.remove();const t=new Z;await t.initialize()}catch(t){document.body.innerHTML='\n      <div style="\n        display: flex; \n        align-items: center; \n        justify-content: center; \n        height: 100vh; \n        font-family: system-ui; \n        background: #f5f5f5;\n        color: #666;\n      ">\n        <div style="text-align: center;">\n          <h1 style="margin: 0 0 10px 0; color: #333;">App Failed to Load</h1>\n          <p style="margin: 0;">Check console for details</p>\n        </div>\n      </div>\n    '}});
